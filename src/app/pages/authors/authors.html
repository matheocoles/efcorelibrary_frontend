<h1>
    <nz-space>
        <span>Gestion des auteurs</span>
        <nz-divider nzType="vertical"></nz-divider>
        <br>
        <app-addauthors (authorAdded)="authorsLoading()" />
    </nz-space>
</h1>

<nz-table
        nzShowSizeChanger
        [nzData]="authors()"
        [nzFrontPagination]="false"
        [nzLoading]="authorsLoading()"
>
    <thead>
    <tr>
        <th nzColumnKey="name" [nzSortFn]="true">Nom</th>
        <th nzColumnKey="firstName" [nzSortFn]="true">Pr√©nom</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
        @for (author of authors(); track author.id) {
            <tr>
                <td>{{ author.name }}</td>
                <td>{{ author.firstName }}</td>
                <td>
                    <nz-flex nzGap="8px">
                        <app-editauthors
                                [author]="author"
                                (authorEdited)="fetchAuthors()"
                        />
                        <button
                                nz-button
                                nzType="text"
                                nzDanger
                                (click)="deleteAuthor(author.id!)"
                        >
                            Supprimer
                        </button>
                    </nz-flex>
                </td>
            </tr>
        }
    </tbody>
</nz-table>